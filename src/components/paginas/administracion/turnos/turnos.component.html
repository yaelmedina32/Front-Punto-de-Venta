<section>
    <br>
    <h3> Administraci√≥n de Turnos </h3>
    <mat-card>
        <mat-card-content>
            <div class = "d-flex justify-content-end">
                <button class = "btn btn-primary" matTooltip="Historial de Cortes" (click)="abrirHistorialCortes()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                        <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"/>
                        <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"/>
                    </svg> Historial de Cortes
                </button>
            </div>
            <mat-table [dataSource]="dataSource">
                <ng-container matColumnDef="usuario">
                    <mat-header-cell *matHeaderCellDef> Usuario </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        {{element.nombre}}
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="fecha">
                    <mat-header-cell *matHeaderCellDef> Fecha de turno </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        {{element.fechainicio | date: 'dd/MM/yyyy'}}
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="cortes">
                    <mat-header-cell *matHeaderCellDef> Cortes Hechos </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        {{element.cortes}}
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="restante">
                    <mat-header-cell *matHeaderCellDef> Cantidad Restante </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        {{element.restante | currency: 'USD'}}
                    </mat-cell>
                </ng-container>

                <ng-container matColumnDef="acciones">
                    <mat-header-cell *matHeaderCellDef> Acciones </mat-header-cell>
                    <mat-cell *matCellDef="let element">
                        <button class = "btn btn-info" matTooltip="Corte Parcial" (click)="hacerCorte(element.turnoid)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-currency-dollar" viewBox="0 0 16 16">
                                <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"/>
                            </svg>
                        </button> &nbsp;&nbsp;
                        <button class = "btn btn-danger" matTooltip="Terminar Turno" (click)="terminarTurno(element.turnoid)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                            </svg>
                        </button>
                    </mat-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="columnasDesplegadas"></mat-header-row>
                <mat-row *matRowDef="let row; columns: columnasDesplegadas;"></mat-row>

            </mat-table>
        </mat-card-content>
    </mat-card>
</section>